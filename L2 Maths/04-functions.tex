\input{stdinclude.tex}

\begin{document}

\mainHeader{4}{Functions}
One of the most fundamental concepts in mathematics is that of a function. A function is a relationship between
two sets of things, called the \textit{range} and the \textit{domain}, such that everything in the range is
related to exactly one thing in the domain. You can think of a function as a rule: it could be given by a formula,
or by a list of inputs and outputs, or in any other way that one likes.

If $ f $ is a function, and it relates $ x $ to $ y $, then we write $ f(x) = y $. In this notation, $ x $ is the \emph{argument} or \emph{input}
and $ y $ is the \emph{result} or \emph{output}.

The above expression $ f(x) = y $ is suggestive: we can graph functions by graphing every pair of numbers $ (x,y) $
which satisfies this equation.

\begin{ex}\leavevmode
  \begin{enumerate}
    \item Suppose for every number $ n $ we associate its double, $ 2n $. This is a perfectly good function,
          which we can call $ f $: then $ f(n) = 2n $, and $ f(2) = 2 \cdot 2 = 4 $.
          \begin{center}
            \fbox{\begin{tikzpicture}
              \begin{axis}[
                scale = .8,
                axis lines = center,
                xlabel = $ n $,
                ylabel = $ f(n) $
              ]
                \addplot[domain = -5:5, color = red] {2*x};
              \end{axis}
            \end{tikzpicture}}
          \end{center}
    \item Suppose for every number $ x $ we associate the number which, when squared, gives $ x $. This is \emph{not}
          a well-defined function: for example, what number do we associate with $4$: $2$, or $ - 2 $? What number
          do we associate with $ -1 $?
    \item On the other hand, suppose for every positive number $ x $ we associate its positive square root. This time
          we do have a well-defined function. Note that its domain and range are both the positive numbers, and for every
          number in the domain there is precisely one number in the range.
          \begin{center}
            \fbox{\begin{tikzpicture}
              \begin{axis}[
                scale = .8,
                axis lines = center,
                xlabel = $ x $,
                ylabel = $ \sqrt{x} $,
                xmin = -5,
                ymax = 27
              ]
                \addplot[domain = 0:27, color = orange] {sqrt(x)};
              \end{axis}
            \end{tikzpicture}}
          \end{center}
    \clearpage
    \item Let $ g(x) = x^2 $. This is also a perfectly good function; every number has exactly one square. Note that $ g(-2) = g(2) = 4 $;
          this is allowed, but if a function $ f $ has the property that if $ x $ and $ y $ are different then $ f(x) \neq f(y) $ then $ f $
          is called one-to-one. The functions in (1) and (3) above are both one-to-one.
          \begin{center}
            \fbox{\begin{tikzpicture}
              \begin{axis}[
                scale = .8,
                axis lines = center,
                xlabel = $ x $,
                ylabel = $ g(x) $,
              ]
                \addplot[domain = -5:5, color = blue] {x^2};
              \end{axis}
            \end{tikzpicture}}
          \end{center}
          Notice that this is a square root on its side... can you explain why?
  \end{enumerate}
\end{ex}

One-to-one functions are useful, because they have an \emph{inverse}. That is, given any number in the \emph{range} we can find
the number in the \emph{domain} that maps to it. If $ f $ is a one-to-one function, then its inverse is written as $ f^{-1} $.

\begin{ex}\leavevmode
  \begin{enumerate}
    \item If $ f(x) = 2x $, then $ f^{-1}(x) = \frac{1}{2} x $.
    \item If $ g(x) = x^2 $, then $ g $ does not have an inverse over all the numbers; but if we restrict the domain of $ g $ to
          the positive numbers, then it does have an inverse $ g^{-1}(x) = +\sqrt{x} $.
    \item If $ h(x) = \sin x $ (and the range of $ x $ is restricted to $ 0 < x \leq 2\pi $) then $ h $ is a perfectly good function
          with range $ -1 \leq h(x) \leq 1 $; its inverse is $ \sin^{-1} $, which takes a triangle ratio and returns the appropriate angle.
  \end{enumerate}
\end{ex}

\subsection*{Transforming graphs}
We will now look at shifting graphs around. Consider the graph drawn in black in the following; it depicts the function $ f $.
\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      scale = .8,
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ f(x) $,
      xmin = -5,
      ymax = 30,
      xmax = 5
    ]
      \addplot[domain = -5:5, color = black,samples=50] {x^2 - 5*sin(deg(x)) - x};
    \end{axis}
  \end{tikzpicture}}
\end{center}
Suppose we want to find the function whose graph is the same as the graph of $ f $, but shifted to the left by 2 units, and up by 3 units, as drawn here in red.
\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      scale = .8,
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ y $,
      xmin = -5,
      ymax = 25,
      xmax = 5
    ]
      \addplot[domain = -5:5, color = black,samples=50] {x^2 - 5*sin(deg(x)) - x};
      \addplot[domain = -5:5, color = red,samples=50] {(x+2)^2 -5*sin(deg(x+2)) - (x+2)+3};
    \end{axis}
  \end{tikzpicture}}
\end{center}
Suppose a point $ (x,y) $ lies on the new graph. Then the point $ (x+2,y-3) $ lies on the old graph:
\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ y $,
      xmin = -5,
      ymax = 25,
      xmax = 7
    ]
      \addplot[domain = -5:5, color = black,samples=50] {x^2 - 5*sin(deg(x)) - x};
      \addplot[domain = -5:5, color = red,samples=50] {(x+2)^2 -5*sin(deg(x+2)) - (x+2)+3};
      \draw[->] (axis cs:3,5.294) -- (axis cs:3,8.294) node[midway,left]{$3$} ;
      \draw[->] (axis cs:3,8.294) -- (axis cs:1,8.294) node[midway,above]{$2$};
      \filldraw[red] (axis cs:1,8.294) circle (2pt) node[left]{$(x,y)$};
      \filldraw[black] (axis cs:3,5.294) circle (2pt) node[right]{$(x+2,y-3)$};
    \end{axis}
  \end{tikzpicture}}
\end{center}
Since $ (x+2, y-3) $ lies on the graph of $ f $, it must satisfy the equation
\begin{displaymath}
  y\text{-ordinate} = f(x\text{-ordinate}).
\end{displaymath}
In particular, $ y-3 = f(x+2) $.

Thus, the equation corresponding to the new graph is $ y-3 = f(x+2) $. This illustrates the following general principle:
\begin{center}\itshape
  If the graph of $ y = f(x) $ is shifted to the right by a distance $ c $ and up by a distance $ d $, then the resulting
  graph is the graph of $ y-d = f(x-c) $.
\end{center}

Here are some examples:
\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      scale=.8,
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ y $,
      xmin = -3,
      ymax = 10,
      ymin = -10,
      xmax = 3
    ]
      \addplot[domain = -5:5, color = black,samples=50] {x^3};
      \addplot[domain = -5:5, color = red,samples=50] {(x+2)^3 -1};
      \draw (2,8) node[right,black] {$y= x^3$};
      \draw (-0.5,2.375) node[left,red] {$y + 1 = (x+2)^3$};
    \end{axis}
  \end{tikzpicture}}
\end{center}

\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      scale=.8,
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ y $,
      xmin = -3,
      ymax = 10,
      ymin = -10,
      xmax = 5
    ]
      \addplot[domain = -5:5, color = black,samples=50] {2*x};
      \addplot[domain = -5:5, color = red,samples=50] {2*(x-3)+2};
      \draw (1,2) node[above left,black] {$y= 2x$};
      \draw (1,-2) node[below right,red] {$y - 2 = 2(x-3)$};
    \end{axis}
  \end{tikzpicture}}
\end{center}

\begin{center}
  \fbox{\begin{tikzpicture}
    \begin{axis}[
      scale=.8,
      axis lines = center,
      xlabel = $ x $,
      ylabel = $ y $,
      xmin = -3,
      ymax = 3,
      ymin = -3,
      xmax = 5
    ]
      \addplot[domain = -5:5, color = black,samples=50] {cos(deg(x))};
      \addplot[domain = -5:5, color = red,samples=50] {cos(deg(x + pi/3)) - 0.5};
      \draw (1.5,1) node[black] {$y= \cos x$};
      \draw (2.5,-2) node[red] {$y + \frac{1}{2} = \cos(x + \pi/3)$};
    \end{axis}
  \end{tikzpicture}}
\end{center}

\subsection*{Questions}
\begin{questions}
  \question Draw the graphs of the following equations. Within each lettered part, compare and contrast the graphs you obtain and explain why the things you observe occur.

            Use a mixture of techniques from: (a) writing down a table of values; (b) using a calculator or computer; (c) recognising the shape from earlier studies (e.g. last year
            you studied parabolae).
    \begin{parts}
      \part
      \begin{subparts}
        \item $ y = x^2 $
        \item $ y = x^2 + 1 $
        \item $ y = (x+1)^2 $
        \item $ y - 1 = (x+1)^2 $
      \end{subparts}
      \part
      \begin{subparts}
        \item $ y = (x-3)^3 $
        \item $ y = (x-3)^3 + 2 $
        \item $ y = x^3 $
      \end{subparts}
      \part
      \begin{subparts}
        \item $ y = 2^x $
        \item $ y = 2^{x+2} $
        \item $ y = 2^{x-2} $
        \item $ y = 5 \times 2^x $
      \end{subparts}
      \part
      \begin{subparts}
        \item $ y = \sin x$
        \item $ y = 3\sin x $
        \item $ y = \cos x $
        \item $ y = \sin (x-\pi/2) $
        \item $ y = 1 + \sin x $
      \end{subparts}
    \end{parts}
  \question Justify the following statements with mathematical reasoning.
    \begin{parts}
      \part The graph of a function passes the vertical line test: any vertical line drawn on the graph crosses the function in at most one point.
      \part The graph of a one-to-one function passes the horizontal line test: any horizontal line drawn on the graph crosses the function in at most one point.
      \part The graph of the inverse of a function is the reflection of the graph of the function across the line $ x = y $.
      \part If we define $ f $ by
            \begin{displaymath}
              f(x) = \begin{cases} x &\text{ if } x \geq 0 \\ -x & \text{ if } x < 0 \end{cases}
            \end{displaymath}
            then $ f $ is a function but it is not one-to-one.
      \part If $ f $ and $ g $ are functions, and the range of $ g $ is the same as the domain of $ f $, and we define a new function $ (f \circ g) $
            by $ (f \circ g)(x) = f(g(x)) $, then $ (f \circ g) $ is a function with the same range as $f $ and the same domain as $ g $.
    \end{parts}
  \question The following define functions only if they have a domain which is restricted. What is the largest possible domain for each, so that
            they are still functions? What is the range of each?
    \begin{parts}
      \part $ f(x) = 1/x $
      \part $ g(\theta) = \tan \theta $
      \part $ h(x) = \left(\dfrac{x}{x - 2}\right)^2 $
    \end{parts}
  \question Which of the following graphs are graphs of functions? Of those, which are one-to-one?
    \begin{parts}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = green, samples = 100] {cos(deg(x))};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = Fuchsia, samples = 100] {sqrt(abs(x))};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = RubineRed, samples = 100] {x^3};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:1.4, color = RoyalBlue, samples = 100] {1/(2*x - 3)};
                  \addplot[domain = 1.5:5, color = RoyalBlue, samples = 100] {1/(2*x - 3)};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = Periwinkle, samples = 100] {sin(deg(x)) + x};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = Peach, samples = 100] (sin(deg(x)),x);
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = 0:360, color = LimeGreen, samples = 100] ({3*cos(x)}, {2*sin(x)});
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = 0:88, color = MidnightBlue, samples = 100] {sec(x)};
                  \addplot[domain = 92:268, color = MidnightBlue, samples = 100] {sec(x)};
                  \addplot[domain = 272:360, color = MidnightBlue, samples = 100] {sec(x)};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
      \begin{minipage}{0.33\linewidth}
      \part \begin{center}
              \fbox{\begin{tikzpicture}
                \begin{axis}[
                  scale = .5,
                  axis lines = center,
                  xlabel = $ x $,
                  ylabel = $ y $,
                ]
                  \addplot[domain = -5:5, color = Emerald, samples = 100] {(ln(x))^2 - sqrt(x)};
                \end{axis}
              \end{tikzpicture}}
            \end{center}
      \end{minipage}
    \end{parts}
  \question Graph the following functions.
    \begin{parts}
      \part $ y = 2^{x + 1} - 3 $
      \part $ y = (x - 3)^2 + 2 $
      \part $ y = \cos(x - \pi/2) + 1 $
      \part $ y = (x - 1)(x - 2)(x - 3) $
      \part $ y = 3\sin(\frac{1}{2} x + 1) - 2 $
    \end{parts}
  \question Analogous to the discussion explaining what the graph of $ y-c = f(x-d) $ looks like in terms of the graph of $ y = f(x) $, describe what
    \begin{parts}
      \part the graph of $ y = 2f(x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ 2y = f(x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ y = -f(x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ y = af(x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ y = f(2x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ y = f((1/2)x) $ looks like in terms of the graph of $ y = f(x) $;
      \part the graph of $ y = f(bx) $ looks like in terms of the graph of $ y = f(x) $.
    \end{parts}
  \question Is it possible to find $ K $ such that the function
            \begin{displaymath}
              f(x) = \begin{cases}
                      x^3 - Kx + K & x \leq 0\\
                      \sin x & x \geq 0
                    \end{cases}
            \end{displaymath}
            is well-defined at 0?
  \question Is it possible to find $ K $ such that the function
            \begin{displaymath}
              f(x) = \begin{cases}
                      x^3 - Kx + 3 & x \leq 0\\
                      K\cos x & x \geq 0
                    \end{cases}
            \end{displaymath}
            is well-defined at 0?
  \question What is the equation of the straight line through $ (-2,-1) $ that meets $ y = (x - 3)(x - 2) $ at its $ y$--intercept?
  \question If I take $ y = x^2 $ and I want to shift and stretch (equally in each direction) its graph so that the vertex is sitting
            at $ (-2, 3) $ and it goes through $ (1,1) $, can I do that? If so, what is the equation of the function that gives me the new graph?
  \question If I take $ y = 2^x $ and I want to shift and stretch (equally in each direction) its graph so that it passes through
            both $ (-2, 3) $ and $ (1,1) $, can I do that? If so, what is the equation of the function that gives me the new graph?
  \question Find $ A $ such that the graph of $ f(x) = A \cdot 3^{x - 1} + 2 $ passes through the given point, or explain why no such $ A $ can be found.
            (a) $ (0,4) $; (b) $ (0,2) $; (c) $ (0,-2) $; (d) $ (0,-4) $.
  \question Let $ y = 3x^2 + bx + 9 $. Find $ b $ such that the graph of the equation intersects $ y = 2x^2 $ at exactly one point.
  \question The following graph is of the function $ c $, where $ c(x) $ is the proportion of a particular chemical species in solution
            at pH $ x $ (pH is, roughly speaking, a measure of acidity). \footnote{From \emph{Quantitative Chemical Analysis}, 7th edition,
            by Daniel Harris (page 233).}
            \begin{center}
            \fbox{\begin{tikzpicture}
              \begin{axis}[
                /pgf/number format/1000 sep={},
                scale = .6,
                axis lines = center,
                xlabel = $ x $,
                ylabel = $ c(x) $
              ]
                \addplot[mark = square] coordinates{(0,{1.3e-23})(1,{1.4e-18})(2,{2.6e-14})(3,{2.1e-11})(4,{3.0e-9})(5,{2.9e-7})(6,{1.8e-5})(7,{2.8e-4})(8,{4.2e-3})(9,0.041)(10,0.30)(11,0.81)(12,0.98)(13,1.00)(14,1.00)};
              \end{axis}
            \end{tikzpicture}}
          \end{center}
    \begin{parts}
      \part Is this function invertible? That is, if I measure the concentration of this species at any point, can I identify precisely what the pH of
            the solution is?
      \part Explain why knowing the proportion of a chemical species in water at a given pH might be useful; why is mathematical modelling useful
            in such a situation?
    \end{parts}
  \question The following graph is of the function $ P $, where $ P(x) $ is the population of the Greater Wellington region in the year $ x $.\footnote{Statistics
            are the Statistics NZ `Subnational population estimates (RC, AU), by age and sex, at 30 June 1996, 2001, 2006-17 (2017 boundaries)' (retrieved
            19 June 2018).} Note that the $ y$-axis does \emph{not} start at zero, and is given in units of hundreds of thousands.
            \begin{center}
            \fbox{\begin{tikzpicture}
              \begin{axis}[
                /pgf/number format/1000 sep={},
                axis lines = center,
                xlabel = $ x $,
                ylabel = $ P(x) $,
                xmin = 1995, xmax = 2020,
                ymax = 540000
              ]
                \addplot[mark = square] coordinates{(1996,426900)(2001,440200)(2006,466300)(2007,469300)(2008,471800)(2009,475600)(2010,479400)(2011,483400)(2012,485100)(2013,486700)(2014,491400)(2015,496900)(2016,504900)(2017,513900)};
              \end{axis}
            \end{tikzpicture}}
          \end{center}
    \begin{parts}
      \part Explain why extrapolating using this graph to find $ P(2020) $ is probably justified.
      \part Give an example of a function where the values of the function above any point cannot be extrapolated from knowing the values of the
            function before the point. Do you think that extrapolation is normally possible for mathematical models of the natural world?
      \part Describe how the rate of population growth changes as we move forwards in time from 1996 to 2017.
      \part Given the real-world context of this graph, how would you expect the slope of the graph to change:
        \begin{subparts}
          \subpart in the medium term (up to, say, 2040), and
          \subpart in the long term (say around the year 2100).
        \end{subparts}
    \end{parts}
\end{questions}

\end{document}
